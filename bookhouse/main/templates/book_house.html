{% extends "base.html" %}
{% block content   %}
<div ng-app="book_house" ng-controller="book_houseCtrl" ng-init="init_page()">
  <div>
    <span>welcome,</span><span style="color:orange;font-size:20px;" ng-bind="user_name"></span> |    <button type="button" ng-click="sign_out()">log out</button>
  </div>
  <br>
  <div>
    <table>
      <tr>
        <td>图书id</td>
        <td>书名</td>
        <td>操作</td>
      </tr>
      <tr ng-repeat="book in books">
        <td ng-bind="book['book_id']"></td>
        <td ng-bind="book['book_name']"></td>
        <td>
          <button type="button" ng-click="detailDialog(book['book_id'])">详情</button>
          <button type="button" ng-click="modifyDialog(book['book_id'])">修改</button>
          <button type="button" ng-click="book_delete(book['book_id'])">删除</button>
        </td>
      </tr>
    </table>
  </div>
  <div>
      <button type="button" ng-click="">新增书目</button>
  </div>
  <div class="detail_dialog">
    <div>
      <label>书id</label>
      <p ng-bind="showDetail['book_id']" ></p>
    </div>
    <div>
      <label>书名</label>
      <p ng-bind="showDetail['book_name']" ></p>
    </div>
    <div>
      <label>单价</label>
      <p ng-bind="showDetail['book_price']" ></p>
    </div>
    <div>
      <label>书籍简介</label>
      <p ng-bind="showDetail['book_intro']" ></p>
    </div>
    <div>
      <label>书籍主人</label>
      <p  ng-bind="showDetail['book_owner']" ></p>
    </div>
    <div>
      <button  type="button" ng-click="">返回</button>
    </div>
  </div>
  <div class="add_dialog">
    <div>
      <label>书名</label>
      <input type="text" ng-model="addDetail['book_name']" />
    </div>
    <div>
      <label>单价</label>
      <input type="text" ng-model="addDetail['book_price']" />
    </div>
    <div>
      <label>书籍简介</label>
      <input type="text" ng-model="addDetail['book_intro']" />
    </div>
    <div>
      <button  type="button" ng-click="book_add()" >提交新增</button>
      <button  type="button" ng-click="">取消</button>
    </div>
  </div>
  <div class="modify_dialog">
    <div>
      <label>书名</label>
      <input type="text" ng-model="modifyDetail['book_name']" />
    </div>
    <div>
      <label>单价</label>
      <input type="text" ng-model="modifyDetail['book_price']" />
    </div>
    <div>
      <label>书籍简介</label>
      <input type="text" ng-model="modifyDetail['book_intro']" />
    </div>
    <div>
      <button  type="button" ng-click="book_modify()" >提交修改</button>
      <button  type="button" ng-click="">取消</button>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script type="text/javascript" src="{{ url_for('static', filename='src/assets/js/book_house.js') }}">
</script>

{% endblock %}
